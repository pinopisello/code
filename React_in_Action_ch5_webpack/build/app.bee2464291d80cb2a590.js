webpackJsonp([0,3],[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=n(1),r=o(a);ReactDOM.render(React.createElement(r.default,null),document.getElementById("app"))},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(3),l=o(c),s=function(t){function n(e){a(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={posts:[]},t.handlePostSubmit=t.handlePostSubmit.bind(t),t}return i(n,t),u(n,[{key:"handlePostSubmit",value:function(t){var n=this;if(console.log(t),t.content){var o=this.state.posts;o.unshift(t),this.setState({posts:o});var a={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}};fetch(e.env.ENDPOINT+"/posts",a).then(function(e){e.ok===!0&&n.fetchPosts()})}}},{key:"render",value:function(){return React.createElement("div",{className:"app"},React.createElement("div",{className:"container-fluid"},React.createElement(l.default,{onSubmit:this.handlePostSubmit})))}}]),n}(React.Component);t.default=s}).call(t,n(2))},,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){function t(e){n(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={content:"pippo",valid:!0},console.log("CreatePost constructor"),a.handleSubmit=a.handleSubmit.bind(a),a.handlePostChange=a.handlePostChange.bind(a),a}return a(t,e),r(t,[{key:"handlePostChange",value:function(e){var t=e.target.value;console.log("handlePostChange("+e.target.value+")"),this.setState({content:t,valid:t.length<=3})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.state.valid&&this.props.onSubmit){var t={date:Date.now(),id:Date.now(),content:this.state.content};this.props.onSubmit(t),this.setState({content:"",valid:!1})}}},{key:"render",value:function(){return React.createElement("form",{className:"create-post",onSubmit:this.handleSubmit},React.createElement("textarea",{value:this.state.content,onChange:this.handlePostChange,placeholder:"What's on your mind?"}),this.state.valid?null:React.createElement("div",null,"your post is too long! :("),React.createElement("input",{disabled:!this.state.valid,type:"submit",className:"btn btn-default",placeholder:"Post"}))}}]),t}(React.Component);i.propTypes={onSubmit:React.PropTypes.func.isRequired},t.default=i}]);
//# sourceMappingURL=app.bee2464291d80cb2a590.js.map